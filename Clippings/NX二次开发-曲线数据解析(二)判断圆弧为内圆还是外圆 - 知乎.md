# NX二次开发-曲线数据解析(二)判断圆弧为内圆还是外圆 - 知乎
[NX二次开发-曲线数据解析(二)判断圆弧为内圆还是外圆​mp.weixin.qq.com/s/qfBm0Nw2suvbmxYjf-mofQ![](https://pic3.zhimg.com/v2-165ed765f2f670a86d50a9e1df43f9fe_ipico.jpg)
](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/qfBm0Nw2suvbmxYjf-mofQ)

作者：徐涛 审校：倪海

适用版本：NX6以上

一、概述

NX中我们经常用到曲线，在开发过程中，我们需要去分析曲线数据，分析圆弧为内圆还是外圆是一个比较常见的功能。首先要分析圆弧的“流向”，这个需要多条曲线组合成相连的线来分析，或者用户定义。内圆弧可以理解为沿着流向看向内凹的圆弧（阴角），外圆弧则为向外凸的圆弧（阳角）。流向不同，判断结果也不同。

二、功能说明

主要方法就是右手螺旋法则。先求圆心指向圆弧中点的半径向量（上一篇说过怎么求圆弧中点坐标），并求出圆弧的“流向”向量，即起点到终点的向量（一般用户确定流向从左往右，或者从右往左，然后识别真正的起点终点，求出向量），然后把这两个向量通过旋转移动调整到XOY平面，再进行叉乘，根据新的向量的Z向值的正负来判断是内圆还是外圆，Z值为正则为内圆，Z值为负则为外圆。

![](https://pic2.zhimg.com/v2-a7697c73141a0f99cfe0bb6bf3214611_b.jpg)

![](https://pic4.zhimg.com/v2-a5d1f85113fdd00014cb857d7b007157_b.jpg)

![](https://pic4.zhimg.com/v2-d3ec1496f39ec7f15381f50ebce2e84b_b.jpg)

三、总结

一组相连曲线的流向是一个非常重要的数据，假如不是首尾相连，需要用户指定流向从左往右还是从右往左，如果是首尾相连，可以识别出轮廓范围和轮廓走向，来确定流向，从而进行后续的分析。