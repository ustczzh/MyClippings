# NX二次开发—控制实体透明度 - 知乎
作者：谢买粮 审校：陈建红

适用版本：NX6以上

1.  **简介**

在塑胶模具设计过程中，为了更新清楚地看到零件内部的结构，经常要把实体变成透明，于模仁、镶件类零件，实体上面部分是不透明的，部分是透明的（图1），在开发某些功能时，我希望把实体变成透明，以便于用户看效果，如开发水井工具时，就需要把整个实体变成透明，如图2右图，当程序执行完成成，再返回原来的状态，本技巧将讲解如何实现这一过程。

![](https://pic2.zhimg.com/v2-7d9ef121ed93204512859d25c108af2d_b.jpg)

图1

![](https://pic1.zhimg.com/v2-8dd12e563b6b36c5e545fce7242e8c48_b.jpg)

![](https://pic4.zhimg.com/v2-75cb91422221fb8fef4fe03ad4774673_b.jpg)

图2

**二、举例说明**

**方法一：** 

1.  在BlockUI程序界面选择实体后，记录当前实体的透明度值，实体的透明度可使用函数“UF\_OBJ\_ask\_translucency”；
2.  记录完成后，再使用“UF\_OBJ\_set\_translucency”函数将实体设为半透明，如果设为70，值可根据实际效果调整；
3.  最后在apply\_cb回调函数中，使用“UF\_OBJ\_set\_translucency”函数把实体变为原先记录的值。

这一个方法能满足一般场景下的效果，对于上面所讲的例子不太适用，根据此方法执行完成后，整个实体变成了统一的透明度，不是原来的状态。

**方法二：** 

将方法一中的“UF\_OBJ\_set\_translucency”函数改成使用NXopen的方法，C#代码如图3。

![](https://pic1.zhimg.com/v2-fe90c52eaa5fefb969b8a5c059e2770c_b.jpg)

**三、总结**

本技巧讲解了在进行NX二次开发过程中，透明度控制的一点方法；通过本技巧，希望对NX二次开发初学人员有所帮助。